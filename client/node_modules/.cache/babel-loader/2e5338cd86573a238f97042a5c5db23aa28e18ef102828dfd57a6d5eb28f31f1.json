{"ast":null,"code":"var _jsxFileName = \"/home/code_warrior/Documentos/estudio/complete-app/client/src/views/Update.jsx\";\nimport { useState } from \"react\";\nimport Button from \"../components/Button\";\nimport Input from \"../components/Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Update() {\n  const [setEmail, email] = useState = '';\n  const [setName, name] = useState = '';\n  const [setLastName, lastname] = useState = '';\n  const [setPassword, password] = useState = '';\n  async function UpdateUser(e) {\n    e.preventDefault();\n    const Data = [email, name, lastname, password];\n    try {\n      const response = await fetch(\"http://localhost:5100/bread_network/update\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(Data)\n      });\n\n      // Leer el body UNA sola vez\n      const result = await response.json();\n\n      // Manejar error HTTP antes de usar result\n      if (!response.ok) {\n        throw new Error((result === null || result === void 0 ? void 0 : result.message) || `HTTP ${response.status}`);\n      }\n\n      // Guardar token y continuar\n      const token = result.token;\n      if (token) localStorage.setItem('token', token);\n      console.log('User updated:', result);\n      alert('User updated successfully!');\n      // aquí puedes redirigir o actualizar estado global\n    } catch (error) {\n      console.error('Error:', error);\n      alert(`update failed: ${error.message}`);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-div\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"Update-form\",\n        onSubmit: UpdateUser,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"you@example.com\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          placeholder: \"jhon\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: lastname,\n          onChange: e => setLastName(e.target.value),\n          placeholder: \"Doe\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          text: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_c = Update;\nexport default Update;\nvar _c;\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"names":["useState","Button","Input","jsxDEV","_jsxDEV","Update","setEmail","email","setName","name","setLastName","lastname","setPassword","password","UpdateUser","e","preventDefault","Data","response","fetch","method","headers","body","JSON","stringify","result","json","ok","Error","message","status","token","localStorage","setItem","console","log","alert","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","text","_c","$RefreshReg$"],"sources":["/home/code_warrior/Documentos/estudio/complete-app/client/src/views/Update.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport Button from \"../components/Button\";\nimport Input from \"../components/Input\";\n\nfunction Update() {\n\n    const [setEmail, email] = useState = ('');\n    const [setName, name] = useState = ('');\n    const [setLastName, lastname] = useState = ('');\n    const [setPassword, password] = useState = ('');\n\n    async function UpdateUser(e) {\n        e.preventDefault();    \n\n         const Data = [email,name,lastname,password];\n\n         try {\n            const response = await fetch(\"http://localhost:5100/bread_network/update\", {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(Data)\n            });\n\n            // Leer el body UNA sola vez\n            const result = await response.json();\n\n            // Manejar error HTTP antes de usar result\n            if (!response.ok) {\n                throw new Error(result?.message || `HTTP ${response.status}`);\n            }\n\n            // Guardar token y continuar\n            const token = result.token;\n            if (token) localStorage.setItem('token', token);\n\n            console.log('User updated:', result);\n            alert('User updated successfully!');\n            // aquí puedes redirigir o actualizar estado global\n        } catch (error) {\n            console.error('Error:', error);\n            alert(`update failed: ${error.message}`);\n        }\n        \n    }\n\n    return (\n        <div className=\"main-div\">\n        <div>\n            <h1>Update Page</h1>\n            <form \n            className=\"Update-form\"\n            onSubmit={UpdateUser}\n            >\n            <Input\n                type=\"email\"\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                required\n            />\n            <Input\n                type=\"text\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n                placeholder=\"jhon\"\n                required\n            />\n            <Input\n                type=\"text\"\n                value={lastname}\n                onChange={e => setLastName(e.target.value)}\n                placeholder=\"Doe\"\n                required\n            />\n            <Input\n                type=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                placeholder=\"••••••••\"\n                required\n            />\n            <Button\n                type={\"submit\"}\n                text={\"Register\"}\n            />\n            </form>\n        </div>\n        </div>  \n    );\n\n}\n\nexport default Update;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}