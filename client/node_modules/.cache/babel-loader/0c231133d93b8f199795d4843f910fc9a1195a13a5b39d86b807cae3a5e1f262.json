{"ast":null,"code":"var _jsxFileName = \"/home/code_warrior/Documentos/estudio/complete-app/client/src/views/SignUp.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Input from \"../components/Input.jsx\";\nimport Button from \"../components/Button.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignUp() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  async function LogIn(e) {\n    e.preventDefault();\n    const Data = {\n      email,\n      password\n    };\n    try {\n      const response = await fetch(\"http://localhost:5100/bread_network/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(Data)\n      });\n\n      // Leer el body UNA sola vez\n      const result = await response.json();\n\n      // Manejar error HTTP antes de usar result\n      if (!response.ok) {\n        throw new Error((result === null || result === void 0 ? void 0 : result.message) || `HTTP ${response.status}`);\n      }\n\n      // Guardar token y continuar\n      const token = result.token;\n      if (token) localStorage.setItem('token', token);\n      console.log('User logged:', result);\n      alert('User logged successfully!');\n      // aquí puedes redirigir o actualizar estado global\n    } catch (error) {\n      console.error('Error:', error);\n      alert(`Login failed: ${error.message}`);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-div\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Log In Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: LogIn,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"you@example.com\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          text: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(SignUp, \"4oS/pRfT+uEOilmPqrlSK7MrzRU=\");\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["useState","Input","Button","jsxDEV","_jsxDEV","SignUp","_s","email","setEmail","password","setPassword","LogIn","e","preventDefault","Data","response","fetch","method","headers","body","JSON","stringify","result","json","ok","Error","message","status","token","localStorage","setItem","console","log","alert","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","text","_c","$RefreshReg$"],"sources":["/home/code_warrior/Documentos/estudio/complete-app/client/src/views/SignUp.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport Input from \"../components/Input.jsx\";\nimport Button from \"../components/Button.jsx\";\n\nfunction SignUp() {\n    const [email,setEmail] = useState('');\n    const [password,setPassword] = useState('');\n\n    async function LogIn(e) {\n    e.preventDefault();\n        const Data = { email, password };\n\n        try {\n            const response = await fetch(\"http://localhost:5100/bread_network/login\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(Data)\n            });\n\n            // Leer el body UNA sola vez\n            const result = await response.json();\n\n            // Manejar error HTTP antes de usar result\n            if (!response.ok) {\n                throw new Error(result?.message || `HTTP ${response.status}`);\n            }\n\n            // Guardar token y continuar\n            const token = result.token;\n            if (token) localStorage.setItem('token', token);\n\n            console.log('User logged:', result);\n            alert('User logged successfully!');\n            // aquí puedes redirigir o actualizar estado global\n        } catch (error) {\n            console.error('Error:', error);\n            alert(`Login failed: ${error.message}`);\n        }\n    }\n\n\n    return (\n        <div className=\"main-div\">\n        <div className=\"login-div\">\n            <h1>Log In Page</h1>\n            <form \n                className=\"login-form\"\n                onSubmit={LogIn}\n                >\n            <Input\n                type=\"email\"\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                required\n            />\n            <Input\n                type=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                placeholder=\"••••••••\"\n                required\n            />\n            <Button\n                type={\"submit\"}\n                text={\"Log In\"}\n            />\n            </form>\n        </div>\n        </div>\n    );\n    }\n\nexport default SignUp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}